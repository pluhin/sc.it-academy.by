<!DOCTYPE html>
<HTML lang="en">
	<HEAD>
		<meta charset="UTF-8">
		<title>Password</title>
		<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
		<style>
			.error {
				color: red;
			}
			.success {
				color: green;
			}
		</style>
	</HEAD>
	<BODY>
		<form id="form" name="form" method="POST" action="#">
			<fieldset>
				<legend>Password</legend>
				<input type="password" id="password_1" name="password_1" placeholder="Password" autocomplete="off" required>
				<label for="password_1">Password</label>
				<br></br>
				<input type="password" id="password_2" name="password_2" placeholder="Confirm password" autocomplete="off" required>
				<label for="password_2">Confirm password</label>
				<span id="passwordState"></span>
			</fieldset>
		</form>
		<script>
			$(document).ready(function() {
				let password = '', password2 = '';
				
				let checkPassword = function() {
					if (password == '' || password2 == '') {
						$("input[name='password_1']").attr('class', '');
						$("input[name='password_2']").attr('class', '');
					} else if (password == password2) {
						$("input[name='password_1']").attr('class', 'success');
						$("input[name='password_2']").attr('class', 'success');
					} else {
						$("input[name='password_1']").attr('class', 'error');
						$("input[name='password_2']").attr('class', 'error');
					}
				};
				
				$("input[name='password_1']").keyup(function() {
					password = $(this).val();
					
					checkPassword();
				});
				$("input[name='password_2']").keyup(function() {
					password2 = $(this).val();
					
					checkPassword();
				});
			});
		</script>
	</BODY>
</HTML> 